{
  "hash": "9dd5220d41475f2447330960503ebb55",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lesson 14: Purposeful model selection\"\nauthor: \"Nicky Wakim\"\ntitle-slide-attributes:\n    data-background-color: \"#213c96\"\ndate: \"02/26/2025\"\nformat: \n  revealjs:\n    theme: \"../simple_NW.scss\"\n    chalkboard: true\n    slide-number: true\n    show-slide-number: all\n    width: 1955\n    height: 1100\n    footer: \"Lesson 14: Purposeful Selection\"\n    highlight-style: ayu\n    html-math-method: mathjax\nexecute:\n  freeze: auto  # re-render only when source changes\n---\n\n\n\n\n\n# Learning Objectives\n\n1.  Understand the overall steps for purposeful selection as a model building strategy\n\n2.  Apply purposeful selection to a dataset using R\n\n3.  Use different approaches to assess the linear scale of continuous variables in logistic regression\n\n\n## Regression analysis process\n\n\n\n::: {.cell}\n<style type=\"text/css\">\n.reveal code {\n  max-height: 100% !important;\n}\n</style>\n:::\n\n\n\n::: box\n![](../img_slides/arrow2.png){.absolute top=\"13.5%\" right=\"62.1%\" width=\"155\"} ![](../img_slides/arrow2.png){.absolute top=\"13.5%\" right=\"28.4%\" width=\"155\"}![](../img_slides/arrow_back4.png){.absolute top=\"7.5%\" right=\"30.5%\" width=\"820\"} ![](../img_slides/arrow_down.png){.absolute top=\"60.5%\" right=\"48%\" width=\"85\"}\n\n::: columns\n::: {.column width=\"30%\"}\n::: RAP1\n::: RAP1-title\nModel Selection\n:::\n\n::: RAP1-cont\n-   Building a model\n\n-   Selecting variables\n\n-   Prediction vs interpretation\n\n-   Comparing potential models\n:::\n:::\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"30%\"}\n::: RAP2\n::: RAP2-title\nModel Fitting\n:::\n\n::: RAP2-cont\n-   Find best fit line\n\n-   Using OLS in this class\n\n-   Parameter estimation\n\n-   Categorical covariates\n\n-   Interactions\n:::\n:::\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"30%\"}\n::: RAP3\n::: RAP3-title\nModel Evaluation\n:::\n\n::: RAP3-cont\n-   Evaluation of model fit\n-   Testing model assumptions\n-   Residuals\n-   Transformations\n-   Influential points\n-   Multicollinearity\n:::\n:::\n:::\n:::\n:::\n\n::: RAP4\n::: RAP4-title\nModel Use (Inference)\n:::\n\n::: RAP4-cont\n::: columns\n::: {.column width=\"50%\"}\n-   Inference for coefficients\n-   Hypothesis testing for coefficients\n:::\n\n::: {.column width=\"50%\"}\n-   Inference for expected $Y$ given $X$\n-   Prediction of new $Y$ given $X$\n:::\n:::\n:::\n:::\n\n# Learning Objectives\n\n::: lob\n1.  Understand the overall steps for purposeful selection as a model building strategy\n:::\n\n2.  Apply purposeful selection to a dataset using R\n\n3.  Use different approaches to assess the linear scale of continuous variables in logistic regression\n\n## \n\n \n\n \n\n::: columns\n::: {.column width=\"20%\"}\n:::\n\n::: {.column width=\"60%\"}\n::: qt\n[\"Successful modeling of a complex data set is [**part science**]{style=\"color:#FF8021;\"}, [**part statistical methods**]{style=\"color:#34AC8B;\"}, and [**part experience and common sense**]{style=\"color:#4FADF3;\"}.\"]{style=\"font-size:60px;\"}\n:::\n\n \n\n::: qt-t\nHosmer, Lemeshow, and Sturdivant Textbook, pg. 101\n:::\n:::\n:::\n\n## Overall Process\n\n0.  Exploratory data analysis\n\n1.  Check unadjusted associations in simple linear regression\n\n2.  Enter all covariates in model that meet some threshold\n\n    -   [One textbook](https://onlinelibrary.wiley.com/doi/book/10.1002/9781118548387) suggest $p<0.2$ or $p<0.25$: great for modest sized datasets\n    -   PLEASE keep in mind sample size in your study\n    -   Can also use magnitude of association rather than, or along with, p-value\n\n3.  Remove those that no longer reach some threshold\n\n    -   Compare magnitude of associations to unadjusted version (univariable)\n\n4.  Check scaling of continuous and coding of categorical covariates\n\n5.  Check for interactions\n\n6.  Assess model fit\n\n    -   Model assumptions, diagnostics, overall fit\n\n## Process with snappier step names\n\n::: columns\n::: {.column width=\"10%\"}\n**Pre-step:**\n\n \n\n**Step 1:**\n\n \n\n**Step 2:**\n\n \n\n**Step 3:**\n\n \n\n**Step 4:**\n\n \n\n**Step 5:**\n\n \n\n**Step 6:**\n:::\n\n::: {.column width=\"50%\"}\nExploratory data analysis (EDA)\n\n \n\nSimple linear regressions / analysis\n\n \n\nPreliminary variable selection\n\n \n\nAssess change in coefficients\n\n \n\nAssess scale for continuous variables\n\n \n\nCheck for interactions\n\n \n\nAssess model fit\n:::\n:::\n\n# Learning Objectives\n\n1.  Understand the overall steps for purposeful selection as a model building strategy\n\n::: lob\n2.  Apply purposeful selection to a dataset using R\n:::\n\n3.  Use different approaches to assess the linear scale of continuous variables in logistic regression\n\n## Pre-step: Exploratory data analysis\n\n- The following slides are all reference until we get to Step 1\n- We have covered exploratory data analysis in other classes and have completed it in our previous labs\n\n## Pre-step: Exploratory data analysis\n\n-   Things we have been doing over the quarter in class and in our project\n\n-   I will not discuss some of the methods mentioned in our lab and data management class\n\n    -   I am only going to introduce additional exploratory functions\n\n \n\nA few things we can do:\n\n-   Check the data\n-   Study your variables\n-   Missing data?\n-   Explore simple relationships and assumptions\n\n## Pre-step: Exploratory data analysis: Check the data\n\n::: columns\n::: {.column width=\"50%\"}\n-   Get to know the potential values for the data\n\n    -   Categories\n\n    -   Units\n\n-   Then make sure the summary of values makes sense\n\n    -   If minimum or maximum look outside appropriate range\n    -   For example: a negative value for a measurement that is inherently positive (like population or income)\n:::\n\n::: {.column width=\"50%\"}\n[![https://www.gapminder.org/data/documentation/](../img_slides/Gapminder_doc.png){fig-align=\"center\"}](https://www.gapminder.org/data/documentation/)\n:::\n:::\n\n## Pre-step: Exploratory data analysis: Check the data\n\n::: columns\n::: {.column width=\"25%\"}\n-   Look at a summary for the raw data\n\n-   Typical use:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(skimr)\nskim(gapm)\n```\n:::\n\n\n\n-   [Some `skim()` help](https://cran.r-project.org/web/packages/skimr/vignettes/skimr.html)\n:::\n\n::: {.column width=\"1%\"}\n:::\n\n::: {.column width=\"74%\"}\n:::\n:::\n\n## Pre-step: Exploratory data analysis: Check the data\n\n::: columns\n::: {.column width=\"25%\"}\n-   Look at a summary for the raw data\n\n-   Typical use:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(skimr)\nskim(gapm)\n```\n:::\n\n\n\n-   [Some `skim()` help](https://cran.r-project.org/web/packages/skimr/vignettes/skimr.html)\n\n-   Note that `skim(gapm)` looks different because I had to create factors\n\n-   I am breaking down the `skim()` function into the categorical and continuous variables only because I want to show them on the slides\n:::\n\n::: {.column width=\"1%\"}\n:::\n\n::: {.column width=\"74%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(gapm_sub1) %>% yank(\"factor\")\n```\n\n::: {.cell-output-display}\n\n\n**Variable type: factor**\n\n|skim_variable  | n_missing| complete_rate|ordered | n_unique|top_counts                         |\n|:--------------|---------:|-------------:|:-------|--------:|:----------------------------------|\n|four_regions   |         0|          1.00|FALSE   |        4|Asi: 57, Afr: 54, Eur: 49, Ame: 35 |\n|income_levels1 |         1|          0.99|FALSE   |        4|Hig: 56, Upp: 55, Low: 52, Low: 31 |\n|income_levels2 |         1|          0.99|FALSE   |        2|Hig: 111, Low: 83                  |\n\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Pre-step: Exploratory data analysis: Check the data {.smaller}\n\n\n\n::: {.cell skimr_digits='2'}\n\n```{.r .cell-code}\nskim(gapm_sub1) %>% yank(\"numeric\")\n```\n\n::: {.cell-output-display}\n\n\n**Variable type: numeric**\n\n|skim_variable      | n_missing| complete_rate|     mean|       sd|      p0|     p25|      p50|      p75|      p100|hist  |\n|:------------------|---------:|-------------:|--------:|--------:|-------:|-------:|--------:|--------:|---------:|:-----|\n|CO2emissions       |         4|          0.98|     4.55|     6.10|    0.03|    0.64|     2.41|     6.22|     41.20|▇▁▁▁▁ |\n|ElectricityUsePP   |        58|          0.70|  4220.92|  5964.07|   31.10|  699.00|  2410.00|  5600.00|  52400.00|▇▁▁▁▁ |\n|FoodSupplykcPPD    |        27|          0.86|  2825.06|   443.59| 1910.00| 2490.00|  2775.00|  3172.50|   3740.00|▅▇▇▇▅ |\n|IncomePP           |         2|          0.99| 16704.45| 19098.61|  614.00| 3370.00| 10100.00| 22700.00| 129000.00|▇▂▁▁▁ |\n|LifeExpectancyYrs  |         8|          0.96|    70.66|     8.44|   47.50|   64.30|    72.70|    76.90|     82.90|▁▃▃▇▇ |\n|FemaleLiteracyRate |       115|          0.41|    81.65|    21.95|   13.00|   70.97|    91.60|    98.03|     99.80|▁▁▂▁▇ |\n|WaterSourcePrct    |         1|          0.99|    84.84|    18.64|   18.30|   74.90|    93.50|    99.07|    100.00|▁▁▂▂▇ |\n|Latitude           |         0|          1.00|    19.11|    23.93|  -42.00|    4.00|    17.33|    40.00|     65.00|▁▃▇▆▅ |\n|Longitude          |         0|          1.00|    21.98|    66.52| -175.00|   -5.75|    21.00|    49.27|    179.14|▁▃▇▃▂ |\n|population_mill    |         0|          1.00|    35.95|   136.87|    0.00|    1.73|     7.57|    24.50|   1370.00|▇▁▁▁▁ |\n\n\n\n:::\n:::\n\n\n\n## Poll Everywhere Question 1\n\n![](../img_slides/14_poll_ev_01.png)\n\n## Pre-step: Exploratory data analysis: Study your variables\n\n-   Started this a little bit in previous slide (`skim()`), but you may want to look at things like:\n\n    -   Sample size\n    -   Counts of missing data\n    -   Means and standard deviations\n    -   IQRs\n    -   Medians\n    -   Minimums and maximums\n\n-   Can also look at visuals\n\n    -   Continuous variables: histograms (in \\`skimr() a little)\n    -   Categorical variables: frequency plots\n\n## Pre-step: Exploratory data analysis: Study your variables {.smaller}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(Hmisc)\nhist.data.frame(gapm %>% select(-Longitude, -Latitude, -eight_regions, -six_regions, -geo, -`World bank, 4 income groups 2017`, -country, -population, -`World bank region`, -ElectricityUsePP))\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n\n## Poll Everywhere Question 2\n\nQuestion: What function might you use to visualize or summarize the frequencies of categorical variables?\n\n## Pre-step: Exploratory data analysis: Missing data\n\n-   Why are there missing data?\n-   Which variables and observations should be excluded because of missing data?\n-   Will I impute missing data?\n\n \n\n-   Unfortunately, we don’t have time to discuss missing data more thoroughly\\\n-   I will try to cover this topic more thoroughly in BSTA 513\n\n \n\n-   For the Gapminder dataset, we chose to use complete cases\n\n## Pre-step / Step 1 : Explore simple relationships and assumptions {.smaller}\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngapm2 %>% ggpairs() # gapm2 is a new dataset with some variables selected\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-8-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## Poll Everywhere Question 3\n\n![](../img_slides/14_poll_ev_03.png)\n\n## Step 1: Simple linear regressions / analysis\n\n-   For each covariate, we want to see how it relates to the outcome (without adjusting for other covariates)\n\n-   We can partially do this with **visualizations**\n\n    -   Helps us see the data we throw it into regression that makes assumptions (like our LINE assumptions)\n\n    -   `ggpairs()` can be a quick way to do it\n\n    -   `ggplot()` can make each plot\n\n        -   `+ geom_boxplot()` to make boxplots by groups for categorical covariates\n        -   `+ geom_jitter() + stat_summary()` to make non-overlaping points with group means for categorical covariates\n        -   `+ geom_point()` to make scatterplots for continuous covariates\n\n-   We need to run **simple linear regression**\n\n    -   We're calling regression with multi-level categories \"simple\" even though there are multiple coefficients\n\n## Step 1: Simple linear regressions / analysis\n\n-   Let's think back to our Gapminder dataset\n\n-   Always good to start with our main relationship: life expectancy vs. female literacy rate\n\n    -   *Throwback to Lesson 3 SLR when we first visualized and ran `lm()` for this relationship*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_FLR = lm(LifeExpectancyYrs ~ FemaleLiteracyRate, data = gapm_sub)\n```\n:::\n\n\n\n \n\n::: columns\n::: {.column width=\"45%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-10-1.png){width=1056}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"55%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"lcjofpvwhh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#lcjofpvwhh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#lcjofpvwhh thead, #lcjofpvwhh tbody, #lcjofpvwhh tfoot, #lcjofpvwhh tr, #lcjofpvwhh td, #lcjofpvwhh th {\n  border-style: none;\n}\n\n#lcjofpvwhh p {\n  margin: 0;\n  padding: 0;\n}\n\n#lcjofpvwhh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 40px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#lcjofpvwhh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lcjofpvwhh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lcjofpvwhh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lcjofpvwhh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lcjofpvwhh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lcjofpvwhh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lcjofpvwhh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lcjofpvwhh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#lcjofpvwhh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#lcjofpvwhh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lcjofpvwhh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lcjofpvwhh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lcjofpvwhh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lcjofpvwhh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lcjofpvwhh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lcjofpvwhh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lcjofpvwhh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#lcjofpvwhh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lcjofpvwhh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lcjofpvwhh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lcjofpvwhh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lcjofpvwhh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lcjofpvwhh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lcjofpvwhh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lcjofpvwhh .gt_left {\n  text-align: left;\n}\n\n#lcjofpvwhh .gt_center {\n  text-align: center;\n}\n\n#lcjofpvwhh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lcjofpvwhh .gt_font_normal {\n  font-weight: normal;\n}\n\n#lcjofpvwhh .gt_font_bold {\n  font-weight: bold;\n}\n\n#lcjofpvwhh .gt_font_italic {\n  font-style: italic;\n}\n\n#lcjofpvwhh .gt_super {\n  font-size: 65%;\n}\n\n#lcjofpvwhh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#lcjofpvwhh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lcjofpvwhh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#lcjofpvwhh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#lcjofpvwhh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#lcjofpvwhh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#lcjofpvwhh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#lcjofpvwhh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#lcjofpvwhh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">51.438</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">2.739</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">18.782</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.000</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">FemaleLiteracyRate</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">0.230</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.032</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">7.141</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.000</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n:::\n:::\n\n## Poll Everywhere Question 4\n\n## Step 1: Simple linear regressions / analysis\n\n-   Let's do this with one other variable before I show you a streamlined version of SLR\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_WR = lm(LifeExpectancyYrs ~ four_regions, data = gapm_sub)\n```\n:::\n\n\n\n \n\n::: columns\n::: {.column width=\"45%\"}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(gapm_sub, aes(x = four_regions, y = LifeExpectancyYrs)) +\n  geom_jitter(size = 1, alpha = .6, width = 0.2) +\n  stat_summary(fun = mean, geom = \"point\", size = 8, shape = 18) +\n  labs(x = \"World region\", \n       y = \"Country life expectancy (years)\",\n       title = \"Life expectancy vs. world region\",\n       caption = \"Diamonds = region averages\") +\n  theme(axis.title = element_text(size = 20), \n        axis.text = element_text(size = 20), \n        title = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-13-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"55%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanova(model_WR) %>% tidy() %>% gt() %>%\n   tab_options(table.font.size = 40) %>%\n   fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ivwtucpqff\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ivwtucpqff table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ivwtucpqff thead, #ivwtucpqff tbody, #ivwtucpqff tfoot, #ivwtucpqff tr, #ivwtucpqff td, #ivwtucpqff th {\n  border-style: none;\n}\n\n#ivwtucpqff p {\n  margin: 0;\n  padding: 0;\n}\n\n#ivwtucpqff .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 40px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ivwtucpqff .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ivwtucpqff .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ivwtucpqff .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ivwtucpqff .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ivwtucpqff .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ivwtucpqff .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ivwtucpqff .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ivwtucpqff .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ivwtucpqff .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ivwtucpqff .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ivwtucpqff .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ivwtucpqff .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ivwtucpqff .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ivwtucpqff .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ivwtucpqff .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ivwtucpqff .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ivwtucpqff .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ivwtucpqff .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ivwtucpqff .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ivwtucpqff .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ivwtucpqff .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ivwtucpqff .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ivwtucpqff .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ivwtucpqff .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ivwtucpqff .gt_left {\n  text-align: left;\n}\n\n#ivwtucpqff .gt_center {\n  text-align: center;\n}\n\n#ivwtucpqff .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ivwtucpqff .gt_font_normal {\n  font-weight: normal;\n}\n\n#ivwtucpqff .gt_font_bold {\n  font-weight: bold;\n}\n\n#ivwtucpqff .gt_font_italic {\n  font-style: italic;\n}\n\n#ivwtucpqff .gt_super {\n  font-size: 65%;\n}\n\n#ivwtucpqff .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ivwtucpqff .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ivwtucpqff .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ivwtucpqff .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ivwtucpqff .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ivwtucpqff .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ivwtucpqff .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ivwtucpqff .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ivwtucpqff div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df\">df</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sumsq\">sumsq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"meansq\">meansq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regions</td>\n<td headers=\"df\" class=\"gt_row gt_right\">3.000</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">2,743.042</td>\n<td headers=\"meansq\" class=\"gt_row gt_right\">914.347</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">33.680</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.000</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">Residuals</td>\n<td headers=\"df\" class=\"gt_row gt_right\">68.000</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">1,846.077</td>\n<td headers=\"meansq\" class=\"gt_row gt_right\">27.148</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n \n\n-   Recall from Lesson 5 (SLR: More inference + Evaluation):\n\n    -   `anova()` with one model name will compare the model (`model_WR`) to the intercept model\n:::\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Step 1: Simple linear regressions / analysis\n\n-   If we do a good job visualizing the relationship between our outcome and each covariate, then we can proceed to a streamlined version of the F-test for each relationship\n-   Run `add1()` to add each variable one at a time and separately\n- Output will include hypothesis test (using F-test) if coefficient(s) is 0 or not\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nintercept_model = gapm2 %>% lm(formula = LifeExpectancyYrs ~ 1)\nadd1(intercept_model, scope = ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions +\n       WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77, test = \"F\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSingle term additions\n\nModel:\nLifeExpectancyYrs ~ 1\n                   Df Sum of Sq    RSS    AIC  F value    Pr(>F)    \n<none>                          4589.1 301.14                       \nFemaleLiteracyRate  1   1934.24 2654.9 263.74  50.9994 6.895e-10 ***\nCO2emissions        1    452.31 4136.8 295.67   7.6536  0.007241 ** \nIncomePP            1   1220.34 3368.8 280.89  25.3576 3.557e-06 ***\nfour_regions        3   2743.04 1846.1 241.58  33.6799 1.858e-13 ***\nWaterSourcePrct     1   2988.20 1600.9 227.32 130.6592 < 2.2e-16 ***\nFoodSupplykcPPD     1   1893.44 2695.7 264.84  49.1679 1.188e-09 ***\nmembers_oecd_g77    2   1103.71 3485.4 285.34  10.9250 7.553e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n## Step 2: Preliminary variable selection\n\n-   Identify candidates for your first multivariable model by performing an F-test on each covariate's SLR\n\n    -   Using p-values from previous slide\n    -   If the p-value of the test is less than 0.25, then consider the variable a candidate\n\n \n\n-   Candidates for first multivariable model\n\n    -   All clinically important variables (regardless of p-value)\n    -   Variables with univariate test with p-value \\< 0.25\n\n \n\n-   With more experience, you won’t need to rely on these strict rules as much\n\n## Step 2: Preliminary variable selection\n\n-   From the previous p-values from the F-test on each covariate's SLR\n\n    -   Decision: we keep all the covariates since they all have a p-value \\< 0.25\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadd1(intercept_model, scope = ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions +\n       WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77, test = \"F\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSingle term additions\n\nModel:\nLifeExpectancyYrs ~ 1\n                   Df Sum of Sq    RSS    AIC  F value    Pr(>F)    \n<none>                          4589.1 301.14                       \nFemaleLiteracyRate  1   1934.24 2654.9 263.74  50.9994 6.895e-10 ***\nCO2emissions        1    452.31 4136.8 295.67   7.6536  0.007241 ** \nIncomePP            1   1220.34 3368.8 280.89  25.3576 3.557e-06 ***\nfour_regions        3   2743.04 1846.1 241.58  33.6799 1.858e-13 ***\nWaterSourcePrct     1   2988.20 1600.9 227.32 130.6592 < 2.2e-16 ***\nFoodSupplykcPPD     1   1893.44 2695.7 264.84  49.1679 1.188e-09 ***\nmembers_oecd_g77    2   1103.71 3485.4 285.34  10.9250 7.553e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n## Step 2: Preliminary variable selection\n\n-   Fit an **initial model** including any independent variable with p-value \\< 0.25 and clinically important variables\n\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ninit_model = lm(LifeExpectancyYrs ~\n                  FemaleLiteracyRate + \n                  CO2emissions + \n                  IncomePP +\n                  four_regions + \n                  WaterSourcePrct + \n                  FoodSupplykcPPD + \n                  members_oecd_g77, \n                data = gapm2)\n\ntbl_regression(\n  init_model, \n  label = list(\n    FemaleLiteracyRate ~ \"Female literacy rate (%)\", \n    CO2emissions ~ \"CO2 emissions\", \n    IncomePP ~ \"Income  (GDP per capita)\", \n    four_regions ~ \"World region\",\n    WaterSourcePrct ~ \"Access to omproved water (%)\",\n    FoodSupplykcPPD ~ \"Food supply (kcal PPD)\",\n    members_oecd_g77 ~ \"Intergovernmental group\"\n    )) %>% \n  as_gt() %>% \n  tab_options(table.font.size = 26) \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vyxbpnvynq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vyxbpnvynq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vyxbpnvynq thead, #vyxbpnvynq tbody, #vyxbpnvynq tfoot, #vyxbpnvynq tr, #vyxbpnvynq td, #vyxbpnvynq th {\n  border-style: none;\n}\n\n#vyxbpnvynq p {\n  margin: 0;\n  padding: 0;\n}\n\n#vyxbpnvynq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 26px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vyxbpnvynq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vyxbpnvynq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vyxbpnvynq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vyxbpnvynq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vyxbpnvynq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vyxbpnvynq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vyxbpnvynq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vyxbpnvynq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vyxbpnvynq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vyxbpnvynq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vyxbpnvynq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vyxbpnvynq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vyxbpnvynq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vyxbpnvynq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vyxbpnvynq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vyxbpnvynq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vyxbpnvynq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vyxbpnvynq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vyxbpnvynq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vyxbpnvynq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vyxbpnvynq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vyxbpnvynq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vyxbpnvynq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vyxbpnvynq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vyxbpnvynq .gt_left {\n  text-align: left;\n}\n\n#vyxbpnvynq .gt_center {\n  text-align: center;\n}\n\n#vyxbpnvynq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vyxbpnvynq .gt_font_normal {\n  font-weight: normal;\n}\n\n#vyxbpnvynq .gt_font_bold {\n  font-weight: bold;\n}\n\n#vyxbpnvynq .gt_font_italic {\n  font-style: italic;\n}\n\n#vyxbpnvynq .gt_super {\n  font-size: 65%;\n}\n\n#vyxbpnvynq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vyxbpnvynq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vyxbpnvynq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vyxbpnvynq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vyxbpnvynq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vyxbpnvynq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vyxbpnvynq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vyxbpnvynq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vyxbpnvynq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"PHN0cm9uZz5DaGFyYWN0ZXJpc3RpYzwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"PHN0cm9uZz5CZXRhPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Beta</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"PHN0cm9uZz45NSUgQ0k8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>95% CI</strong></span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"PHN0cm9uZz5wLXZhbHVlPC9zdHJvbmc+\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Female literacy rate (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.07, 0.07</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">CO2 emissions</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.29</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.55, -0.02</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.037</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Income  (GDP per capita)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.019</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">World region</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Africa</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Americas</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">9.9</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">5.9, 14</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Asia</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.8</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">2.6, 9.0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Europe</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">7.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.7, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.010</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Access to omproved water (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.14</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.01, 0.27</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.041</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Food supply (kcal PPD)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.01</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.015</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Intergovernmental group</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    g77</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    oecd</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.33</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.4, 4.8</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    others</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.3, 4.9</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"Q0kgPSBDb25maWRlbmNlIEludGVydmFs\"><span class='gt_from_md'>CI = Confidence Interval</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n## Step 3: Assess change in coefficient\n\n::: columns\n::: {.column width=\"48%\"}\n-   This is where we start identifying covariates that we might remove\n\n \n\n-   I would start by using the p-value to guide me towards specific variables\n\n    -   Female literacy rate, but that's our main covariate\n    -   Intergovernmental group?\n    -   Maybe water source percent?\n\n \n\n-   Some people will say you can use the p-value alone\n\n    -   I like to double check that those variables do not have a large effect on the other coefficients\n:::\n\n::: {.column width=\"52%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"oihbjkfhrh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#oihbjkfhrh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#oihbjkfhrh thead, #oihbjkfhrh tbody, #oihbjkfhrh tfoot, #oihbjkfhrh tr, #oihbjkfhrh td, #oihbjkfhrh th {\n  border-style: none;\n}\n\n#oihbjkfhrh p {\n  margin: 0;\n  padding: 0;\n}\n\n#oihbjkfhrh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 26px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#oihbjkfhrh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#oihbjkfhrh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#oihbjkfhrh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#oihbjkfhrh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#oihbjkfhrh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#oihbjkfhrh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#oihbjkfhrh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#oihbjkfhrh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#oihbjkfhrh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#oihbjkfhrh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oihbjkfhrh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#oihbjkfhrh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#oihbjkfhrh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#oihbjkfhrh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oihbjkfhrh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#oihbjkfhrh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#oihbjkfhrh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#oihbjkfhrh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oihbjkfhrh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#oihbjkfhrh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oihbjkfhrh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#oihbjkfhrh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oihbjkfhrh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oihbjkfhrh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oihbjkfhrh .gt_left {\n  text-align: left;\n}\n\n#oihbjkfhrh .gt_center {\n  text-align: center;\n}\n\n#oihbjkfhrh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#oihbjkfhrh .gt_font_normal {\n  font-weight: normal;\n}\n\n#oihbjkfhrh .gt_font_bold {\n  font-weight: bold;\n}\n\n#oihbjkfhrh .gt_font_italic {\n  font-style: italic;\n}\n\n#oihbjkfhrh .gt_super {\n  font-size: 65%;\n}\n\n#oihbjkfhrh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#oihbjkfhrh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#oihbjkfhrh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#oihbjkfhrh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#oihbjkfhrh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#oihbjkfhrh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#oihbjkfhrh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#oihbjkfhrh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#oihbjkfhrh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"PHN0cm9uZz5DaGFyYWN0ZXJpc3RpYzwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"PHN0cm9uZz5CZXRhPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Beta</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"PHN0cm9uZz45NSUgQ0k8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>95% CI</strong></span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"PHN0cm9uZz5wLXZhbHVlPC9zdHJvbmc+\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Female literacy rate (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.07, 0.07</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">CO2 emissions</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.29</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.55, -0.02</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.037</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Income  (GDP per capita)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.019</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">World region</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Africa</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Americas</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">9.9</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">5.9, 14</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Asia</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.8</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">2.6, 9.0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Europe</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">7.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.7, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.010</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Access to omproved water (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.14</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.01, 0.27</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.041</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Food supply (kcal PPD)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.01</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.015</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Intergovernmental group</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    g77</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    oecd</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.33</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.4, 4.8</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    others</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.3, 4.9</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"Q0kgPSBDb25maWRlbmNlIEludGVydmFs\"><span class='gt_from_md'>CI = Confidence Interval</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n:::\n:::\n\n## Step 3: Assess change in coefficient\n\n-   Very similar to the process we used when looking at confounders\n\n \n\n-   One variable at a time, we run the multivariable model with and without a variable\n\n    -   We look at the p-value of the F-test for the coefficients of said variable\n    -   We look at the percent change for the coefficient ($\\Delta\\%$) of our **explanatory variable** (FLR in our example)\n\n \n\n-   General rule: We can remove a variable if...\n\n    -   p-value \\> 0.05 for the F-test of its own coefficients\n    -   AND change in coefficient ($\\Delta\\%$) of our explanatory variable is \\< 10%\n\n## F-test on dropping each covariate\n\n- Function `drop1()`: If we put in our initial model, the function will remove each covariate and perform the respective F-test to test if the coefficients are 0 (null) or not (alternative).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndrop1(init_model, test=\"F\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSingle term deletions\n\nModel:\nLifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP + \n    four_regions + WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77\n                   Df Sum of Sq     RSS    AIC F value    Pr(>F)    \n<none>                           999.20 211.38                      \nFemaleLiteracyRate  1      0.06  999.26 209.38  0.0034   0.95391    \nCO2emissions        1     74.63 1073.83 214.57  4.5559   0.03683 *  \nIncomePP            1     95.40 1094.60 215.95  5.8240   0.01883 *  \nfour_regions        3    410.14 1409.34 230.14  8.3462 9.822e-05 ***\nWaterSourcePrct     1     71.74 1070.94 214.37  4.3799   0.04053 *  \nFoodSupplykcPPD     1    102.06 1101.26 216.38  6.2305   0.01528 *  \nmembers_oecd_g77    2      1.79 1000.99 207.51  0.0546   0.94696    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n## Testing for percent change ( $\\Delta\\%$) in a coefficient\n\n-   Let's say we have $X_1$ and $X_2$, and we specifically want to see if $X_2$ is a confounder for $X_1$ (the explanatory variable or variable of interest)\n\n-   If we are only considering $X_1$ and $X_2$, then we need to run the following two models:\n\n    -   Fitted model 1 / reduced model (`mod1`): $\\widehat{Y} = \\widehat\\beta_0 + \\widehat\\beta_1X_1$\n\n        -   We call the above $\\widehat\\beta_1$ the reduced model coefficient: $\\widehat\\beta_{1, \\text{mod1}}$ or $\\widehat\\beta_{1, \\text{red}}$\n\n    -   Fitted model 2 / Full model (`mod2`): $\\widehat{Y} = \\widehat\\beta_0 + \\widehat\\beta_1X_1 +\\widehat\\beta_2X_2$\n\n        -   We call this $\\widehat\\beta_1$ the full model coefficient: $\\widehat\\beta_{1, \\text{mod2}}$ or $\\widehat\\beta_{1, \\text{full}}$\n\n::: columns\n::: {.column width=\"15%\"}\n:::\n\n::: {.column width=\"70%\"}\n::: fact\n::: fact-title\nCalculation for % change in coefficient\n:::\n\n::: fact-cont\n$$\n\\Delta\\% = 100\\% \\cdot\\frac{\\widehat\\beta_{1, \\text{mod1}} - \\widehat\\beta_{1, \\text{mod2}}}{\\widehat\\beta_{1, \\text{mod2}}} = 100\\% \\cdot \\frac{\\widehat\\beta_{1, \\text{red}} - \\widehat\\beta_{1, \\text{full}}}{\\widehat\\beta_{1, \\text{full}}}\n$$\n:::\n:::\n:::\n\n::: {.column width=\"15%\"}\n:::\n:::\n\n\n## Step 3: Assess change in coefficient\n\n-   Let's try this out on `members_oecd_g77`\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Display the ANOVA table with F-statistic and p-value\"}\nmodel_full = init_model\nmodel_red = lm(LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP +\n               four_regions + WaterSourcePrct + FoodSupplykcPPD, \n                 data = gapm2)\nanova(model_full, model_red) %>% tidy() %>% \n  gt() %>% tab_options(table.font.size = 35) %>% fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"xjavzwxadq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#xjavzwxadq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#xjavzwxadq thead, #xjavzwxadq tbody, #xjavzwxadq tfoot, #xjavzwxadq tr, #xjavzwxadq td, #xjavzwxadq th {\n  border-style: none;\n}\n\n#xjavzwxadq p {\n  margin: 0;\n  padding: 0;\n}\n\n#xjavzwxadq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xjavzwxadq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xjavzwxadq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xjavzwxadq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xjavzwxadq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xjavzwxadq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xjavzwxadq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xjavzwxadq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xjavzwxadq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#xjavzwxadq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xjavzwxadq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xjavzwxadq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xjavzwxadq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xjavzwxadq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xjavzwxadq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xjavzwxadq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xjavzwxadq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xjavzwxadq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#xjavzwxadq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xjavzwxadq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xjavzwxadq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xjavzwxadq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xjavzwxadq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xjavzwxadq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xjavzwxadq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xjavzwxadq .gt_left {\n  text-align: left;\n}\n\n#xjavzwxadq .gt_center {\n  text-align: center;\n}\n\n#xjavzwxadq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xjavzwxadq .gt_font_normal {\n  font-weight: normal;\n}\n\n#xjavzwxadq .gt_font_bold {\n  font-weight: bold;\n}\n\n#xjavzwxadq .gt_font_italic {\n  font-style: italic;\n}\n\n#xjavzwxadq .gt_super {\n  font-size: 65%;\n}\n\n#xjavzwxadq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#xjavzwxadq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xjavzwxadq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xjavzwxadq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xjavzwxadq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xjavzwxadq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xjavzwxadq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#xjavzwxadq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#xjavzwxadq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.residual\">df.residual</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"rss\">rss</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df\">df</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sumsq\">sumsq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions + WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77</td>\n<td headers=\"df.residual\" class=\"gt_row gt_right\">61.000</td>\n<td headers=\"rss\" class=\"gt_row gt_right\">999.201</td>\n<td headers=\"df\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions + WaterSourcePrct + FoodSupplykcPPD</td>\n<td headers=\"df.residual\" class=\"gt_row gt_right\">63.000</td>\n<td headers=\"rss\" class=\"gt_row gt_right\">1,000.988</td>\n<td headers=\"df\" class=\"gt_row gt_right\">−2.000</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">−1.787</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.055</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.947</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n-   $\\widehat\\beta_{FLR, full} = 0.002$, $\\widehat\\beta_{FLR, red} = 0.0036$\n\n$$\n\\Delta\\% = 100\\% \\cdot \\frac{\\widehat\\beta_{FLR, full} - \\widehat\\beta_{FLR, red}}{\\widehat\\beta_{FLR, full}} = 100\\% \\cdot \\frac{0.002 - 0.0036}{0.002} = -74.41\\%\n$$\n\n-   Based off the percent change, I would keep this in the model\n\n## Step 3: Assess change in coefficient (Reference only)\n\n-   Let's try this out on water source percent (even though the p-value was \\< 0.05)\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Display the ANOVA table with F-statistic and p-value\"}\nmodel_full = init_model\nmodel_red = lm(LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP +\n               four_regions + members_oecd_g77 + FoodSupplykcPPD, \n                 data = gapm2)\nanova(model_full, model_red) %>% tidy() %>% \n  gt() %>% tab_options(table.font.size = 35) %>% fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zgclnqartg\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zgclnqartg table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zgclnqartg thead, #zgclnqartg tbody, #zgclnqartg tfoot, #zgclnqartg tr, #zgclnqartg td, #zgclnqartg th {\n  border-style: none;\n}\n\n#zgclnqartg p {\n  margin: 0;\n  padding: 0;\n}\n\n#zgclnqartg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zgclnqartg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zgclnqartg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zgclnqartg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zgclnqartg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zgclnqartg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zgclnqartg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zgclnqartg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zgclnqartg .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zgclnqartg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zgclnqartg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zgclnqartg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zgclnqartg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zgclnqartg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zgclnqartg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgclnqartg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zgclnqartg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zgclnqartg .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zgclnqartg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgclnqartg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zgclnqartg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgclnqartg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zgclnqartg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgclnqartg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zgclnqartg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgclnqartg .gt_left {\n  text-align: left;\n}\n\n#zgclnqartg .gt_center {\n  text-align: center;\n}\n\n#zgclnqartg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zgclnqartg .gt_font_normal {\n  font-weight: normal;\n}\n\n#zgclnqartg .gt_font_bold {\n  font-weight: bold;\n}\n\n#zgclnqartg .gt_font_italic {\n  font-style: italic;\n}\n\n#zgclnqartg .gt_super {\n  font-size: 65%;\n}\n\n#zgclnqartg .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zgclnqartg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zgclnqartg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zgclnqartg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zgclnqartg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zgclnqartg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zgclnqartg .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zgclnqartg .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zgclnqartg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.residual\">df.residual</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"rss\">rss</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df\">df</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sumsq\">sumsq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions + WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77</td>\n<td headers=\"df.residual\" class=\"gt_row gt_right\">61.000</td>\n<td headers=\"rss\" class=\"gt_row gt_right\">999.201</td>\n<td headers=\"df\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">LifeExpectancyYrs ~ FemaleLiteracyRate + CO2emissions + IncomePP + four_regions + members_oecd_g77 + FoodSupplykcPPD</td>\n<td headers=\"df.residual\" class=\"gt_row gt_right\">62.000</td>\n<td headers=\"rss\" class=\"gt_row gt_right\">1,070.944</td>\n<td headers=\"df\" class=\"gt_row gt_right\">−1.000</td>\n<td headers=\"sumsq\" class=\"gt_row gt_right\">−71.744</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">4.380</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.041</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n-   $\\widehat\\beta_{FLR, full} = 0.002$, $\\widehat\\beta_{FLR, red} = 0.034$\n\n$$\n\\Delta\\% = 100\\% \\cdot \\frac{\\widehat\\beta_{FLR, full} - \\widehat\\beta_{FLR, red}}{\\widehat\\beta_{FLR, full}} = 100\\% \\cdot \\frac{0.002 - 0.034}{0.002} = -1561.06\\%\n$$\n\n-   Based off the percent change (and p-value), I would keep this in the model\n\n## Poll Everywhere Question 5\n\n## Step 3: Assess change in coefficient: Summary\n\n-   At the end of this step, we have a **preliminary main effects model**\n\n-   Where the variables are excluded that met the following criteria:\n\n    -   P-value \\> 0.05 for the F-test of its own coefficients\n    -   Change in coefficient ($\\Delta\\%$) of our explanatory variable is \\< 10%\n\n-   In our example, the **preliminary main effects model** (end of Step 3) was the same as the **initial model** (end of Step 2)\n\n-   Preliminary main effects model includes:\n\n    -   `FemaleLiteracyRate`\n    -   `CO2emissions`\n    -   `IncomePP`\n    -   `four_regions`\n    -   `members_oecd_g77`\n    -   `FoodSupplykcPPD`\n    -   `WaterSupplePct`\n    \n    \n## Recap of Steps 1-3\n\n-   Pre-step: Exploratory data analysis\n\n-   Step 1: Simple linear regressions / analysis\n\n    -   Look at each covariate with outcome\n\n    -   Perform SLR for each covariate\n\n-   Step 2: Preliminary variable selection\n\n    -   From SLR, decide which variables go into the initial model\n\n    -   Use F-test to see if each covariate (on its own) explains enough variation in outcome\n\n    -   End with **initial model**\n        \n-   Step 3: Assess change in coefficients\n\n    -   From the initial model at end of step 2, we take a variable out of the model if:\n\n        -   P-value \\> 0.05 for the F-test of its own coefficients\n\n        -   Change in coefficient ($\\Delta\\%$) of our explanatory variable is \\< 10%\n        \n    -   End with **preliminary main effects model**\n\n# Learning Objectives\n\n1.  Understand the overall steps for purposeful selection as a model building strategy\n\n2.  Apply purposeful selection to a dataset using R\n\n::: lob\n3.  Use different approaches to assess the linear scale of continuous variables in logistic regression\n:::\n\n## Step 4: Assess scale for continuous variables\n\n-   We assume the linear regression model is linear for **each continuous variable**\n\n-   We need to assess linearity for continuous variables in the model\n\n    -   Do this through smoothed scatterplots that we introduced in Lesson 6 (SLR Diagnostics)\n    -   Residual plots (can be used in SLR) does not help us in MLR\n    -   Each term in MLR model needs to have linearity with outcome\n\n-   Three methods/approaches to address the violation of linearity assumption:\n\n    -   **Approach 1:** Categorize continuous variable\n    -   **Approach 2:** Fractional Polynomials\n    -   **Approach 3:** Spline functions\n    \n-   Approach will depend on the covariate!!\n\n-   For our class, only implement **Approach 1 or 2**\n\n-   Model at the end of Step 4 is the **main effects model**\n\n## Step 4: Assess scale for continuous variables {visibility=\"hidden\"}\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Residual plot does not help us with linearity in MLR\"}\nlibrary(ggfortify)\nautoplot(model_full) + theme(text=element_text(size=14))\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-25-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## Step 4: Assess scale for continuous variables: Smoothed scatterplots\n\n-   Smoother scatterplots **only check linearity**, not addressing linearity issues\n\n \n\n-   Can also identify extreme observations\n\n    -   Again, just want to flag these values \n\n    -   Can influence the assessment of linearity when using fractional polynomials or spline functions\n\n \n\n-   Helps us decide if the continuous variable can stay **as is** in the model\n\n    -   **Problem:** if not linear, then we need to represent the variable in a new way (Approaches 1-3)\n\n## Step 4: Assess scale for continuous variables: Smoothed scatterplots\n\n-   In Gapminder dataset, we have 5 continuous variables:\n\n    -   CO2 Emissions\n    -   Food Supply\n    -   Income\n    -   Female Literacy Rate\n    -   Water source percent\n\n-   Plot each of these agains the outcome, life expectancy\n\n## Step 4: Assess scale for continuous variables: Smoothed scatterplots\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"We can quickly look at ggpairs() to identify variables\"}\ngapm2 %>% select(where(is.numeric)) %>% \n  relocate(LifeExpectancyYrs, .after = last_col()) %>% ggpairs()\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-26-1.png){fig-align='center' width=1056}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Step 4: Assess scale for continuous variables: Smoothed scatterplots\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Take a look at C02, Food Supply, and Income\"}\nCO2 = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = CO2emissions)) + \n  geom_point() +\n  geom_smooth(se=F) + labs(x = \"CO2 Emissions (kt)\", y = \"Life Expectancy (yrs)\")\n\nFS = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = FoodSupplykcPPD)) + \n  geom_point() +\n  geom_smooth(se=F) + labs(x = \"Food Supply (kcal PPD)\", y = \"Life Expectancy (yrs)\")\n\nIncome = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = IncomePP)) + \n  geom_point() +\n  geom_smooth(se=F) + labs(x = \"Income (GDP per capita)\", y = \"Life Expectancy (yrs)\")\n\ngrid.arrange(CO2, FS, Income, nrow=1)\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-28-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n-   Food Supply looks admissible\n-   CO2 Emissions and Income do not look very linear, but I want to zoom into the area of the plots that have most of the data\n\n## Step 4: Assess scale for continuous variables: Smoothed scatterplots\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Zoom into areas on plots with more data\"}\nCO2 = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = CO2emissions)) + \n  geom_point() + xlim(0,10) +\n  geom_smooth(se=F) + labs(x = \"CO2 Emissions (kt)\", y = \"Life Expectancy (yrs)\")\n\nFS = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = FoodSupplykcPPD)) + \n  geom_point() +\n  geom_smooth(se=F) + labs(x = \"Food Supply (kcal PPD)\", y = \"Life Expectancy (yrs)\")\n\nIncome = ggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = IncomePP)) + \n  geom_point() + xlim(0,40000) +\n  geom_smooth(se=F) + labs(x = \"Income (GDP per capita)\", y = \"Life Expectancy (yrs)\")\n\ngrid.arrange(CO2, FS, Income, nrow=1)\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-29-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n-   Food Supply still looks admissible\n-   CO2 Emissions and Income not linear: will address this!!\n\n## Step 4: Assess scale for continuous variables\n\n-   Three methods/approaches to address the violation of linearity assumption:\n\n     \n\n    -   **Approach 1:** Categorize continuous variable\n\n     \n\n    -   **Approach 2:** Fractional Polynomials\n    \n     \n\n    -   **Approach 3:** Spline functions\n    \n\n\n## Step 4: Approach 1: Categorize continuous variable\n\n-   Categorize continuous variables\n\n    -   Percentiles, quartiles, quantiles\n    \n        -   Create indicator variables corresponding to each quartile\n        \n    -   Meaningful thresholds\n    \n        -   Example: [income level groups](https://www.gapminder.org/fw/income-levels/) discussed by Gapminder\n        \n-   Disadvantages:\n\n    -   Takes some time to create new variables, especially with multiple continuous covariates\n\n    -   Start with quartiles, but might be more appropriate to use different splits\n\n        -   No set rules on this\n\n-   Advantage: graphical and visually helps\n\n## Step 4: Approach 1: Categorize continuous variable\n\n::: columns\n::: column\n-   For income, I would use [Gapminder's income level groups](https://www.gapminder.org/fw/income-levels/) \n\n    -   Discussed in Lesson 10 Categorical Covariates (slide 43)\n\n \n\n-   Experts in the field have developed these income groups\n\n    -   I think this is best solution for income (that was not meeting linearity as a continuous variable)\n:::\n\n::: column\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-30-1.png){fig-align='center' width=768}\n:::\n:::\n\n\n:::\n:::\n\n## Step 4: Approach 1: Categorize continuous variable\n\n::: columns\n::: {.column width=\"40%\"} \n-   Let's still try it out with CO2 Emissions (kt)\n\n-   I have plotted the quartile lines of food supply with red lines\n:::\n\n::: {.column width=\"60%\"} \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Take a look at the quartiles within the scatterplot\"}\nvline_coordinates= data.frame(Quantile_Name=names(quantile(gapm2$CO2emissions)),\n                          quantile_values=as.numeric(quantile(gapm2$CO2emissions)))\n\nggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = CO2emissions)) + \n  geom_point(size = 3) +\n  #geom_smooth(se=F) + \n  labs(x = \"CO2 Emissions (kt)\", y = \"Life Expectancy (yrs)\") +\n  geom_vline(data = vline_coordinates, aes(xintercept = quantile_values), \n             color = \"red\", linetype = \"dashed\", size = 2) +\n    theme(axis.title = element_text(size = 25), \n        axis.text = element_text(size = 25), \n        title = element_text(size = 25))\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-31-1.png){fig-align='center' width=1152}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n:::\n\n:::\n\n## Step 4: Approach 1: Categorize continuous variable\n\n-   Let's make the quartiles for CO2 emissions:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dvmisc)\ngapm2 = gapm2 %>% \n  mutate(CO2_q = quant_groups(CO2emissions, groups = 4) %>% factor())\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Take a look at the quartile means within the scatterplot\"}\nggplot(data = gapm2, aes(y = LifeExpectancyYrs, x = CO2_q)) + \n  # geom_point(size = 3, aes(y = LifeExpectancyYrs, x = CO2emissions)) +\n  stat_summary(fun = mean, geom = \"point\", size = 8, shape = 18) +\n  #geom_smooth(se=F) + \n  labs(x = \"CO2 Emissions (kt)\", y = \"Life Expectancy (yrs)\") +\n    theme(axis.title = element_text(size = 25), \n        axis.text = element_text(size = 25), \n        title = element_text(size = 25))\n```\n\n::: {.cell-output-display}\n![](14_Purposeful_selection_files/figure-revealjs/unnamed-chunk-34-1.png){fig-align='center' width=1152}\n:::\n:::\n\n\n\n## Step 4: Approach 1: Categorize continuous variable\n\n::: columns\n::: {.column width=\"45%\"}\n\n \n\n-   Let's fit a new model with the two new representations for income and CO2 emissions\n\n \n\n-   Remember, this is the **main effects model** if we decide to make CO2 into quartiles\n\n\n\n::: {.cell}\n\n:::\n\n\n:::\n\n::: {.column width=\"55%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qqqergcgdj\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qqqergcgdj table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qqqergcgdj thead, #qqqergcgdj tbody, #qqqergcgdj tfoot, #qqqergcgdj tr, #qqqergcgdj td, #qqqergcgdj th {\n  border-style: none;\n}\n\n#qqqergcgdj p {\n  margin: 0;\n  padding: 0;\n}\n\n#qqqergcgdj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 22px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qqqergcgdj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qqqergcgdj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qqqergcgdj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qqqergcgdj .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qqqergcgdj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qqqergcgdj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qqqergcgdj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qqqergcgdj .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qqqergcgdj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qqqergcgdj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qqqergcgdj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qqqergcgdj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qqqergcgdj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qqqergcgdj .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qqqergcgdj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qqqergcgdj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qqqergcgdj .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qqqergcgdj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qqqergcgdj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qqqergcgdj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qqqergcgdj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qqqergcgdj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qqqergcgdj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qqqergcgdj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qqqergcgdj .gt_left {\n  text-align: left;\n}\n\n#qqqergcgdj .gt_center {\n  text-align: center;\n}\n\n#qqqergcgdj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qqqergcgdj .gt_font_normal {\n  font-weight: normal;\n}\n\n#qqqergcgdj .gt_font_bold {\n  font-weight: bold;\n}\n\n#qqqergcgdj .gt_font_italic {\n  font-style: italic;\n}\n\n#qqqergcgdj .gt_super {\n  font-size: 65%;\n}\n\n#qqqergcgdj .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qqqergcgdj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qqqergcgdj .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qqqergcgdj .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qqqergcgdj .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qqqergcgdj .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qqqergcgdj .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qqqergcgdj .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qqqergcgdj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"PHN0cm9uZz5DaGFyYWN0ZXJpc3RpYzwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"PHN0cm9uZz5CZXRhPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Beta</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"PHN0cm9uZz45NSUgQ0k8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>95% CI</strong></span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"PHN0cm9uZz5wLXZhbHVlPC9zdHJvbmc+\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Female literacy rate (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.07</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.17, 0.02</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.13</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">CO2 emissions quartiles</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    [0.0439,0.806]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (0.806,2.54]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-2.7, 4.9</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.6</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (2.54,4.66]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.29</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.1, 4.6</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (4.66,35.2]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.60</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.6, 4.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Income levels</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Low income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lower middle income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.4</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.75, 10</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.024</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Upper middle income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">6.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.20, 12</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.043</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    High income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">8.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.4, 15</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.018</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">World region</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Africa</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Americas</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">9.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">4.9, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Asia</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.3</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">2.0, 8.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.002</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Europe</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">6.9</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.1, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.020</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Access to omproved water (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.17</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.03, 0.30</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.015</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Food supply (kcal PPD)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.073</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Intergovernmental group</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    g77</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    oecd</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.2, 6.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    others</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.0, 6.1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"Q0kgPSBDb25maWRlbmNlIEludGVydmFs\"><span class='gt_from_md'>CI = Confidence Interval</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n:::\n:::\n\n## Step 4: Approach 2: Fractional Polynomials\n\n-   Main concepts and transformations presented in Lesson 7 SLR: Model Evaluation and Diagnostics (slide 33 on)\n\n-   Idea: test many transformations of a continuous covariate\n\n    -   [Based on Royston and Altman, Applied Statistics, 1994](https://www.jstor.org/stable/2986270)\n\n \n\n-   Recall Tukey's transformation (power) ladder\n\n    -   And can use `R`'s `gladder()` to see the transformations\n\n| Power p | -3              | -2              | -1            | -1/2                 | 0         | 1/2        | 1   | 2     | 3     |\n|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|\n|         | $\\frac{1}{x^3}$ | $\\frac{1}{x^2}$ | $\\frac{1}{x}$ | $\\frac{1}{\\sqrt{x}}$ | $\\log(x)$ | $\\sqrt{x}$ | $x$ | $x^2$ | $x^3$ |\n\n \n\n-   We can run through each and test different models, or use the approach from Lesson 7\n\n-   There is also a package we can use!\n\n    -   [mfp package in R](https://cran.r-project.org/web/packages/mfp/mfp.pdf) contains the fp() function\n\n## Step 4: Approach 2: Fractional Polynomials\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mfp)\n\nfp_model_CO2 = mfp(LifeExpectancyYrs ~ FemaleLiteracyRate + \n                     fp(CO2emissions, df = 4) + income_levels1 + four_regions +\n                     WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77,\n               data = gapm2, family = \"gaussian\")\n\nfp_model_CO2$fptable %>% gt(rownames_to_stub = T) %>% tab_options(table.font.size = 24)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kiifojxcqx\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kiifojxcqx table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kiifojxcqx thead, #kiifojxcqx tbody, #kiifojxcqx tfoot, #kiifojxcqx tr, #kiifojxcqx td, #kiifojxcqx th {\n  border-style: none;\n}\n\n#kiifojxcqx p {\n  margin: 0;\n  padding: 0;\n}\n\n#kiifojxcqx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 24px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kiifojxcqx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kiifojxcqx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kiifojxcqx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kiifojxcqx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kiifojxcqx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kiifojxcqx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kiifojxcqx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kiifojxcqx .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kiifojxcqx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kiifojxcqx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kiifojxcqx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kiifojxcqx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kiifojxcqx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kiifojxcqx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kiifojxcqx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kiifojxcqx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kiifojxcqx .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kiifojxcqx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kiifojxcqx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kiifojxcqx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kiifojxcqx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kiifojxcqx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kiifojxcqx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kiifojxcqx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kiifojxcqx .gt_left {\n  text-align: left;\n}\n\n#kiifojxcqx .gt_center {\n  text-align: center;\n}\n\n#kiifojxcqx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kiifojxcqx .gt_font_normal {\n  font-weight: normal;\n}\n\n#kiifojxcqx .gt_font_bold {\n  font-weight: bold;\n}\n\n#kiifojxcqx .gt_font_italic {\n  font-style: italic;\n}\n\n#kiifojxcqx .gt_super {\n  font-size: 65%;\n}\n\n#kiifojxcqx .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kiifojxcqx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kiifojxcqx .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kiifojxcqx .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kiifojxcqx .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kiifojxcqx .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kiifojxcqx .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kiifojxcqx .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kiifojxcqx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.initial\">df.initial</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"select\">select</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"alpha\">alpha</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.final\">df.final</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"power1\">power1</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"power2\">power2</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsAmericas</th>\n<td headers=\"stub_1_1 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_1 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsAsia</th>\n<td headers=\"stub_1_2 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_2 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsEurope</th>\n<td headers=\"stub_1_3 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_3 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\">WaterSourcePrct</th>\n<td headers=\"stub_1_4 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_4 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1Lower middle income</th>\n<td headers=\"stub_1_5 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_5 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1Upper middle income</th>\n<td headers=\"stub_1_6 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_6 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1High income</th>\n<td headers=\"stub_1_7 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_7 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_left gt_stub\">FoodSupplykcPPD</th>\n<td headers=\"stub_1_8 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_8 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_left gt_stub\">FemaleLiteracyRate</th>\n<td headers=\"stub_1_9 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_9 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_10\" scope=\"row\" class=\"gt_row gt_left gt_stub\">CO2emissions</th>\n<td headers=\"stub_1_10 df.initial\" class=\"gt_row gt_right\">4</td>\n<td headers=\"stub_1_10 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_10 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_11\" scope=\"row\" class=\"gt_row gt_left gt_stub\">members_oecd_g77oecd</th>\n<td headers=\"stub_1_11 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_11 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_12\" scope=\"row\" class=\"gt_row gt_left gt_stub\">members_oecd_g77others</th>\n<td headers=\"stub_1_12 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_12 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 power2\" class=\"gt_row gt_right\">.</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n## Step 4: Approach 2: Fractional Polynomials\n\n::: columns\n::: column\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"xnjcemdsgl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#xnjcemdsgl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#xnjcemdsgl thead, #xnjcemdsgl tbody, #xnjcemdsgl tfoot, #xnjcemdsgl tr, #xnjcemdsgl td, #xnjcemdsgl th {\n  border-style: none;\n}\n\n#xnjcemdsgl p {\n  margin: 0;\n  padding: 0;\n}\n\n#xnjcemdsgl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 24px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xnjcemdsgl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xnjcemdsgl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xnjcemdsgl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xnjcemdsgl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xnjcemdsgl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xnjcemdsgl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xnjcemdsgl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xnjcemdsgl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#xnjcemdsgl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xnjcemdsgl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xnjcemdsgl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xnjcemdsgl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xnjcemdsgl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xnjcemdsgl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnjcemdsgl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xnjcemdsgl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xnjcemdsgl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#xnjcemdsgl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnjcemdsgl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xnjcemdsgl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnjcemdsgl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xnjcemdsgl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnjcemdsgl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xnjcemdsgl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnjcemdsgl .gt_left {\n  text-align: left;\n}\n\n#xnjcemdsgl .gt_center {\n  text-align: center;\n}\n\n#xnjcemdsgl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xnjcemdsgl .gt_font_normal {\n  font-weight: normal;\n}\n\n#xnjcemdsgl .gt_font_bold {\n  font-weight: bold;\n}\n\n#xnjcemdsgl .gt_font_italic {\n  font-style: italic;\n}\n\n#xnjcemdsgl .gt_super {\n  font-size: 65%;\n}\n\n#xnjcemdsgl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#xnjcemdsgl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xnjcemdsgl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xnjcemdsgl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xnjcemdsgl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xnjcemdsgl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xnjcemdsgl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#xnjcemdsgl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#xnjcemdsgl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.initial\">df.initial</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"select\">select</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"alpha\">alpha</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.final\">df.final</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"power1\">power1</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"power2\">power2</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsAmericas</th>\n<td headers=\"stub_1_1 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_1 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_1 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsAsia</th>\n<td headers=\"stub_1_2 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_2 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_2 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">four_regionsEurope</th>\n<td headers=\"stub_1_3 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_3 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_3 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\">WaterSourcePrct</th>\n<td headers=\"stub_1_4 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_4 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_4 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1Lower middle income</th>\n<td headers=\"stub_1_5 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_5 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_5 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1Upper middle income</th>\n<td headers=\"stub_1_6 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_6 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_6 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_left gt_stub\">income_levels1High income</th>\n<td headers=\"stub_1_7 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_7 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_7 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_left gt_stub\">FoodSupplykcPPD</th>\n<td headers=\"stub_1_8 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_8 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_8 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_left gt_stub\">FemaleLiteracyRate</th>\n<td headers=\"stub_1_9 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_9 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_9 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_10\" scope=\"row\" class=\"gt_row gt_left gt_stub\">CO2emissions</th>\n<td headers=\"stub_1_10 df.initial\" class=\"gt_row gt_right\">4</td>\n<td headers=\"stub_1_10 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_10 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_10 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_11\" scope=\"row\" class=\"gt_row gt_left gt_stub\">members_oecd_g77oecd</th>\n<td headers=\"stub_1_11 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_11 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_11 power2\" class=\"gt_row gt_right\">.</td></tr>\n    <tr><th id=\"stub_1_12\" scope=\"row\" class=\"gt_row gt_left gt_stub\">members_oecd_g77others</th>\n<td headers=\"stub_1_12 df.initial\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 select\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 alpha\" class=\"gt_row gt_right\">0.05</td>\n<td headers=\"stub_1_12 df.final\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 power1\" class=\"gt_row gt_right\">1</td>\n<td headers=\"stub_1_12 power2\" class=\"gt_row gt_right\">.</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n:::\n\n::: column \n\n-   Conclusion from fractional polynomial is that CO2 does not need to be transformed\n\n-   A little counter-intuitive to what we saw in quartiles\n\n-   Thus, I think leaving CO2 emissions as quartiles is best!\n:::\n\n:::\n\n## Step 4: Approach 3: Spline functions\n\n-   Spline function is to fit a series of smooth curves that joined at specific points (called knots)\n\n::: columns\n::: column \n![](../img_slides/spline1.png){fig-align=\"center\"}\n:::\n\n::: column \n![](../img_slides/spline2.png){fig-align=\"center\"}\n:::\n:::\n\n## Step 4: Approach 3: Spline functions\n\n-   Need to specify knots for spline functions\n\n    -   More knots are flexible, but requires more parameters to estimate\n    -   In most applications three to five knots are sufficient\n\n \n\n-   Within our class, fractional polynomials will be sufficient\n\n \n\n-   If you think this is cool, I highly suggest you look into Functional Data Analysis (FDA) or Functional Regression\n\n    -   Jeffrey Morris is a big name in that field\n\n \n\n-   In R there are a few options to incorporate splines\n\n    -   `pspline( )`: [More information](https://cran.r-project.org/web/packages/survival/vignettes/splines.pdf) \n\n    -   `smoothHR()`: [More information](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3876718/) \n\n## Step 4 Conclusion: main effects model\n\n::: columns\n::: {.column width=\"50%\"}\n-   We concluded that we will use:\n\n    -   Income levels (categorical) that Gapminder created\n    -   Quartiles for CO2 Emissions\n\n::: definition\n::: def-title\nNote\n:::\n::: def-cont\nThis is also a good step to decide if you would like to score a categorical variable (Lesson 5)\n:::\n:::\n:::\n\n- Question: Do you see any visual issues with my regression table?\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vzrmzcszco\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vzrmzcszco table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vzrmzcszco thead, #vzrmzcszco tbody, #vzrmzcszco tfoot, #vzrmzcszco tr, #vzrmzcszco td, #vzrmzcszco th {\n  border-style: none;\n}\n\n#vzrmzcszco p {\n  margin: 0;\n  padding: 0;\n}\n\n#vzrmzcszco .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 22px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vzrmzcszco .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vzrmzcszco .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vzrmzcszco .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vzrmzcszco .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vzrmzcszco .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vzrmzcszco .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vzrmzcszco .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vzrmzcszco .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vzrmzcszco .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vzrmzcszco .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vzrmzcszco .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vzrmzcszco .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vzrmzcszco .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vzrmzcszco .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzrmzcszco .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vzrmzcszco .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vzrmzcszco .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vzrmzcszco .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzrmzcszco .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vzrmzcszco .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzrmzcszco .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vzrmzcszco .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzrmzcszco .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vzrmzcszco .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vzrmzcszco .gt_left {\n  text-align: left;\n}\n\n#vzrmzcszco .gt_center {\n  text-align: center;\n}\n\n#vzrmzcszco .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vzrmzcszco .gt_font_normal {\n  font-weight: normal;\n}\n\n#vzrmzcszco .gt_font_bold {\n  font-weight: bold;\n}\n\n#vzrmzcszco .gt_font_italic {\n  font-style: italic;\n}\n\n#vzrmzcszco .gt_super {\n  font-size: 65%;\n}\n\n#vzrmzcszco .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vzrmzcszco .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vzrmzcszco .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vzrmzcszco .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vzrmzcszco .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vzrmzcszco .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vzrmzcszco .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vzrmzcszco .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vzrmzcszco div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"PHN0cm9uZz5DaGFyYWN0ZXJpc3RpYzwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"PHN0cm9uZz5CZXRhPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Beta</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"PHN0cm9uZz45NSUgQ0k8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>95% CI</strong></span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"PHN0cm9uZz5wLXZhbHVlPC9zdHJvbmc+\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Female literacy rate (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.07</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.17, 0.02</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.13</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">CO2 emissions quartiles</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    [0.0439,0.806]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (0.806,2.54]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-2.7, 4.9</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.6</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (2.54,4.66]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.29</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.1, 4.6</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (4.66,35.2]</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-0.60</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-5.6, 4.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Income levels</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Low income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lower middle income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.4</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.75, 10</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.024</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Upper middle income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">6.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.20, 12</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.043</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    High income</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">8.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.4, 15</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.018</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">World region</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Africa</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Americas</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">9.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">4.9, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Asia</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">5.3</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">2.0, 8.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.002</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Europe</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">6.9</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.1, 13</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.020</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Access to omproved water (%)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.17</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.03, 0.30</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.015</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Food supply (kcal PPD)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.00, 0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.073</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Intergovernmental group</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    g77</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    oecd</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.2, 6.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    others</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-4.0, 6.1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"Q0kgPSBDb25maWRlbmNlIEludGVydmFs\"><span class='gt_from_md'>CI = Confidence Interval</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n:::\n:::\n\n\n# Learning Objectives\n\n1.  Understand the overall steps for purposeful selection as a model building strategy\n\n::: lob\n2.  Apply purposeful selection to a dataset using R\n:::\n\n3.  Use different approaches to assess the linear scale of continuous variables in logistic regression\n\n## Step 5: Check for interactions\n\n-   Create a list of interaction terms from variables in the \"main effects model\" that has clinical plausibility\n\n \n\n-   Add the interaction variables, one at a time, to the main effects model, and assess the significance using a F-test\n\n    -   May keep interaction terms with p-value \\< 0.10 (or 0.05)\n\n \n\n-   Keep the main effects untouched, only simplify the interaction terms\n\n \n\n-   Use methods from Step 2 (comparing model with all interactions to a smaller model with interactions) to determine which interactions to keep\n\n \n\n-   The model by the end of Step 5 is called the **preliminary final model**\n\n## Step 5: Check for interactions\n\n-   We test with $\\alpha = 0.10$\n\n-   Follow the F-test procedure in [Lesson 10 (MLR: Using the F-test)](.\\lessons\\10_MLR_F-test\\10_MLR_F-test.qmd)\n\n    -   This means we need to follow the 7 steps of the general F-test in previous slide (taken from Lesson 10)\n\n-   Use the hypothesis tests for the specific variable combo:\n\n::: columns\n::: column\n::: fact\n::: fact-title\nBinary & continuous variable (Lesson 11, LOB 2)\n:::\n\n::: fact-cont\nTesting a single coefficient for the interaction term using F-test comparing full model to reduced model\n:::\n:::\n:::\n\n::: column\n::: definition\n::: def-title\nMulti-level & continuous variables (Lesson 11, LOB 3)\n:::\n\n::: def-cont\nTesting group of coefficients for the interaction terms using F-test comparing full to reduced model\n:::\n:::\n:::\n:::\n\n::: columns\n::: column\n::: proposition\n::: prop-title\nBinary & multi-level variable (Lesson 12, LOB 4)\n:::\n\n::: prop-cont\nTesting group of coefficients for the interaction terms using F-test comparing full to reduced model\n:::\n:::\n:::\n\n::: column\n::: proof1\n::: proof-title\nTwo continuous variables (Lesson 12, LOB 5)\n:::\n\n::: proof-cont\nTesting a single coefficient for the interaction term using F-test comparing full to reduced model\n:::\n:::\n:::\n:::\n\n## Poll Everywhere Questions 6-8\n\n## Step 5: Check for interactions\n\n- Use `add1()` function to compare a full model (interactions with FLR) and reduced model (main effects model)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadd1(main_eff_model, scope = ~ FemaleLiteracyRate * . ,  test = \"F\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSingle term additions\n\nModel:\nLifeExpectancyYrs ~ FemaleLiteracyRate + CO2_q + income_levels1 + \n    four_regions + WaterSourcePrct + FoodSupplykcPPD + members_oecd_g77\n                                    Df Sum of Sq    RSS    AIC F value Pr(>F)\n<none>                                           946.46 215.48               \nFemaleLiteracyRate:CO2_q             3    27.171 919.29 219.38  0.5320 0.6623\nFemaleLiteracyRate:income_levels1    3    12.802 933.66 220.50  0.2468 0.8633\nFemaleLiteracyRate:four_regions      3    95.987 850.47 213.78  2.0315 0.1203\nFemaleLiteracyRate:WaterSourcePrct   1     3.040 943.42 217.25  0.1804 0.6726\nFemaleLiteracyRate:FoodSupplykcPPD   1    31.063 915.40 215.07  1.9003 0.1735\nFemaleLiteracyRate:members_oecd_g77  2    11.513 934.95 218.59  0.3386 0.7142\n```\n\n\n:::\n:::\n\n\n\n-   I went through all the ANOVA tables, and found the following significant interactions:\n\n    -   None!\n    \n-   **Think about it:** does that track with what we saw in our interactions lecture?\n\n## Step 6: Assess model fit\n\n-   Assess the adequacy of the model (diagnostics) and check its fit\n\n \n\n-   Methods for diagnostics will be discussed next class\n\n    -   Combination of diagnostics and model fit statistics!\n    \n    -   Looked at model fit statistics in last lesson\n    \n    -   Look at diagnostics in Lesson 15: MLR Diagnostics\n\n \n\n-   If the model is adequate and fits well, then it is the **Final model**\n\n## Step 6: Assess model fit\n\n\n\n::: {.cell}\n\n:::\n\n\n\n-   Our **final model** contains\n\n    -   Female Literacy Rate `FLR`\n    -   CO2 Emissions in quartiles `CO2_q`\n    -   Income levels in groups assigned by Gapminder `income_levels`\n    -   World regions `four_regions`\n    -   Membership of global and economic groups `members_oecd_g77`\n    \n        -   OECD: Organization for Economic Co-operation and Development\n        -   G77: Group of 77\n        -   Other\n        \n    -   Food Supply `FoodSupplykcPPD`\n    -   Clean Water Supply `WaterSupplePct`\n    \n## Step 6: Assess model fit: Model fit statistics\n\n-   Way I did it in the lab instructions (and last class)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum_fm = summary(final_model)\nmodel_fit_stats = data.frame(Model = \"Final model\", \n                             Adjusted_R_sq = sum_fm$adj.r.squared, \n                             AIC = AIC(final_model), BIC = BIC(final_model))\n\nmodel_fit_stats %>% gt() %>% \n  tab_options(table.font.size = 35) %>% fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zqumsebxrp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zqumsebxrp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zqumsebxrp thead, #zqumsebxrp tbody, #zqumsebxrp tfoot, #zqumsebxrp tr, #zqumsebxrp td, #zqumsebxrp th {\n  border-style: none;\n}\n\n#zqumsebxrp p {\n  margin: 0;\n  padding: 0;\n}\n\n#zqumsebxrp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zqumsebxrp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zqumsebxrp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zqumsebxrp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zqumsebxrp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zqumsebxrp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zqumsebxrp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zqumsebxrp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zqumsebxrp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zqumsebxrp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zqumsebxrp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zqumsebxrp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zqumsebxrp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zqumsebxrp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zqumsebxrp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zqumsebxrp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zqumsebxrp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zqumsebxrp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zqumsebxrp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zqumsebxrp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zqumsebxrp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zqumsebxrp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zqumsebxrp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zqumsebxrp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zqumsebxrp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zqumsebxrp .gt_left {\n  text-align: left;\n}\n\n#zqumsebxrp .gt_center {\n  text-align: center;\n}\n\n#zqumsebxrp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zqumsebxrp .gt_font_normal {\n  font-weight: normal;\n}\n\n#zqumsebxrp .gt_font_bold {\n  font-weight: bold;\n}\n\n#zqumsebxrp .gt_font_italic {\n  font-style: italic;\n}\n\n#zqumsebxrp .gt_super {\n  font-size: 65%;\n}\n\n#zqumsebxrp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zqumsebxrp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zqumsebxrp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zqumsebxrp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zqumsebxrp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zqumsebxrp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zqumsebxrp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zqumsebxrp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zqumsebxrp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Model\">Model</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Adjusted_R_sq\">Adjusted_R_sq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"AIC\">AIC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BIC\">BIC</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Model\" class=\"gt_row gt_left\">Final model</td>\n<td headers=\"Adjusted_R_sq\" class=\"gt_row gt_right\">0.743</td>\n<td headers=\"AIC\" class=\"gt_row gt_right\">421.804</td>\n<td headers=\"BIC\" class=\"gt_row gt_right\">458.230</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n-   Another (maybe faster?) way to do it (`glance()` in `broom` package)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglance(final_model) %>% mutate(Model = \"Final model\") %>%\n  select(Model, adj.r.squared, AIC, BIC) %>% gt() %>% \n  tab_options(table.font.size = 35) %>% fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"pljqvmhtkl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pljqvmhtkl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pljqvmhtkl thead, #pljqvmhtkl tbody, #pljqvmhtkl tfoot, #pljqvmhtkl tr, #pljqvmhtkl td, #pljqvmhtkl th {\n  border-style: none;\n}\n\n#pljqvmhtkl p {\n  margin: 0;\n  padding: 0;\n}\n\n#pljqvmhtkl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pljqvmhtkl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pljqvmhtkl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pljqvmhtkl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pljqvmhtkl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pljqvmhtkl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pljqvmhtkl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pljqvmhtkl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pljqvmhtkl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pljqvmhtkl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pljqvmhtkl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pljqvmhtkl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pljqvmhtkl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pljqvmhtkl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pljqvmhtkl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pljqvmhtkl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pljqvmhtkl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pljqvmhtkl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pljqvmhtkl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pljqvmhtkl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pljqvmhtkl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pljqvmhtkl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pljqvmhtkl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pljqvmhtkl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pljqvmhtkl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pljqvmhtkl .gt_left {\n  text-align: left;\n}\n\n#pljqvmhtkl .gt_center {\n  text-align: center;\n}\n\n#pljqvmhtkl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pljqvmhtkl .gt_font_normal {\n  font-weight: normal;\n}\n\n#pljqvmhtkl .gt_font_bold {\n  font-weight: bold;\n}\n\n#pljqvmhtkl .gt_font_italic {\n  font-style: italic;\n}\n\n#pljqvmhtkl .gt_super {\n  font-size: 65%;\n}\n\n#pljqvmhtkl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pljqvmhtkl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pljqvmhtkl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pljqvmhtkl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pljqvmhtkl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pljqvmhtkl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pljqvmhtkl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#pljqvmhtkl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#pljqvmhtkl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Model\">Model</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"adj.r.squared\">adj.r.squared</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"AIC\">AIC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BIC\">BIC</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Model\" class=\"gt_row gt_left\">Final model</td>\n<td headers=\"adj.r.squared\" class=\"gt_row gt_right\">0.743</td>\n<td headers=\"AIC\" class=\"gt_row gt_right\">421.804</td>\n<td headers=\"BIC\" class=\"gt_row gt_right\">458.230</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n## Step 6: Assess model fit: Comparing model fits\n\n-   Remember the preliminary main effects model (at end of Step 3): same as final model but the continuous varaibles, income and CO2 emissions, were not categorized\n\n-   We can compare model fit statistics of the preliminary main effects model and the final model\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfm_glance = glance(final_model) %>% mutate(Model = \"Final model\") %>%\n  select(Model, `Adj R-squared` = adj.r.squared, AIC, BIC) \npmem_glance = glance(prelim_me_model) %>% \n  mutate(Model = \"Preliminary main effects model\") %>%\n  select(Model, `Adj R-squared` = adj.r.squared, AIC, BIC) \nrbind(fm_glance, pmem_glance) %>% gt() %>% \n  tab_options(table.font.size = 35) %>% fmt_number(decimals = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ngddcbzvko\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ngddcbzvko table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ngddcbzvko thead, #ngddcbzvko tbody, #ngddcbzvko tfoot, #ngddcbzvko tr, #ngddcbzvko td, #ngddcbzvko th {\n  border-style: none;\n}\n\n#ngddcbzvko p {\n  margin: 0;\n  padding: 0;\n}\n\n#ngddcbzvko .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ngddcbzvko .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ngddcbzvko .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ngddcbzvko .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ngddcbzvko .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ngddcbzvko .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ngddcbzvko .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ngddcbzvko .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ngddcbzvko .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ngddcbzvko .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ngddcbzvko .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ngddcbzvko .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ngddcbzvko .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ngddcbzvko .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ngddcbzvko .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ngddcbzvko .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ngddcbzvko .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ngddcbzvko .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ngddcbzvko .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ngddcbzvko .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ngddcbzvko .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ngddcbzvko .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ngddcbzvko .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ngddcbzvko .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ngddcbzvko .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ngddcbzvko .gt_left {\n  text-align: left;\n}\n\n#ngddcbzvko .gt_center {\n  text-align: center;\n}\n\n#ngddcbzvko .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ngddcbzvko .gt_font_normal {\n  font-weight: normal;\n}\n\n#ngddcbzvko .gt_font_bold {\n  font-weight: bold;\n}\n\n#ngddcbzvko .gt_font_italic {\n  font-style: italic;\n}\n\n#ngddcbzvko .gt_super {\n  font-size: 65%;\n}\n\n#ngddcbzvko .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ngddcbzvko .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ngddcbzvko .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ngddcbzvko .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ngddcbzvko .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ngddcbzvko .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ngddcbzvko .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ngddcbzvko .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ngddcbzvko div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Model\">Model</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Adj-R-squared\">Adj R-squared</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"AIC\">AIC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BIC\">BIC</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Model\" class=\"gt_row gt_left\">Final model</td>\n<td headers=\"Adj R-squared\" class=\"gt_row gt_right\">0.743</td>\n<td headers=\"AIC\" class=\"gt_row gt_right\">421.804</td>\n<td headers=\"BIC\" class=\"gt_row gt_right\">458.230</td></tr>\n    <tr><td headers=\"Model\" class=\"gt_row gt_left\">Preliminary main effects model</td>\n<td headers=\"Adj R-squared\" class=\"gt_row gt_right\">0.747</td>\n<td headers=\"AIC\" class=\"gt_row gt_right\">417.708</td>\n<td headers=\"BIC\" class=\"gt_row gt_right\">445.028</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n-   Remember, adjusted $R^2$, AIC, and BIC penalize models for more coefficients\n\n-   Preliminary main effects model: better fit statistics, but violates linearity assumption\n\n",
    "supporting": [
      "14_Purposeful_selection_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}